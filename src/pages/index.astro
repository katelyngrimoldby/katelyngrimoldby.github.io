---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import CardLayout from '../layouts/CardLayout.astro';
import ProjectCard from '../components/Cards/ProjectCard.astro';
import ArticleCard from '../components/Cards/ArticleCard.astro';

const featuredProjects = await getCollection(
  'projects',
  (project) => project.data.featured
);
const featuredArticles = await getCollection(
  'articles',
  (article) => article.data.featured
);
---

<BaseLayout title='Home'>
  <h1>Home</h1>
  <p>
    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec
    turpis ut libero sollicitudin scelerisque at et turpis. Suspendisse
    hendrerit justo ex, eu interdum purus vestibulum eget. In consectetur velit
    tristique, pretium ante vel, euismod enim. Suspendisse potenti. Morbi
    convallis enim id ipsum sollicitudin, sit amet gravida velit facilisis. Sed
    cursus gravida lectus. Aenean et enim ac dui malesuada convallis. Aliquam
    sit amet quam non augue consectetur vehicula non eget neque. Donec eget
    turpis at turpis dictum maximus. Ut nec risus ut ante bibendum auctor.
  </p>
  <h2>Featured Projects</h2>
  <CardLayout featured>
    {featuredProjects.map((project) => <ProjectCard project={project} />)}
  </CardLayout>
  <h2>Featured Articles</h2>
  <CardLayout featured>
    {featuredArticles.map((article) => <ArticleCard article={article} />)}
  </CardLayout>
</BaseLayout>
